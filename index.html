<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="google-site-verification"
            content="QPwf1YVnzKNmubPOgpPD31n8ve2diBg6ls5SPv8AZXI"
        />
        <meta
            name="naver-site-verification"
            content="c618a1e465a3d42d79c49ae98a9bf09d2ea564fb"
        />
        <link rel="stylesheet" href="style.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo&display=swap"
            rel="stylesheet"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Nanum+Myeongjo&display=swap"
            rel="stylesheet"
        />
        <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6525061811972765"
            crossorigin="anonymous"
        ></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
            crossorigin="anonymous"
        />
        <title>
            인공지능 인간 명품상 테스트(AI luxury brand ambassador test)
        </title>
        <meta
            name="description"
            content="블랙핑크 제니처럼 인간 샤넬? 수지처럼 인간 디올? 인공지능이 보는 나와 가장 잘 어울리는 명품 브랜드"
        />
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=UA-208579854-1"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "UA-208579854-1");
        </script>
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">인간 명품상 테스트</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div
                    class="collapse navbar-collapse"
                    id="navbarSupportedContent"
                >
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a
                                class="nav-link active"
                                aria-current="page"
                                href="#"
                                >여자버전</a
                            >
                        </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link" href="#">Link</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a
                                class="nav-link dropdown-toggle"
                                href="#"
                                id="navbarDropdown"
                                role="button"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                            >
                                Dropdown
                            </a>
                            <ul
                                class="dropdown-menu"
                                aria-labelledby="navbarDropdown"
                            >
                                <li>
                                    <a class="dropdown-item" href="#">Action</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href="#"
                                        >Another action</a
                                    >
                                </li>
                                <li><hr class="dropdown-divider" /></li>
                                <li>
                                    <a class="dropdown-item" href="#"
                                        >Something else here</a
                                    >
                                </li>
                            </ul>
                        </li> -->
                        <!-- <li class="nav-item">
                            <a class="nav-link disabled">Disabled</a>
                        </li> -->
                    </ul>
                    <!-- <form class="d-flex">
                        <input
                            class="form-control me-2"
                            type="search"
                            placeholder="Search"
                            aria-label="Search"
                        />
                        <button class="btn btn-outline-success" type="submit">
                            Search
                        </button>
                    </form> -->
                </div>
            </div>
        </nav>
        <div class="item title">
            <div class="item subtitle">인공지능이 보는</div>
            인간 명품상
        </div>

        <div class="container">
            <div class="item image-upload-wrap">
                <input
                    class="file-upload-input"
                    type="file"
                    onchange="readURL(this);"
                    accept="image/*"
                />
                <div class="drag-text">
                    <h3>여기를 눌러 프로필 이미지를 업로드해주세요^^</h3>
                </div>
            </div>

            <div class="item file-upload-content">
                <img
                    class="file-upload-image"
                    id="face-image"
                    src="#"
                    alt="your image"
                />
                <div class="item image-title-wrap"></div>
            </div>

            <div id="loading" class="animated bounce">
                <!-- <div class="spinner-border" role="status"></div> -->
                <span class="loading__letter">L</span>
                <span class="loading__letter">O</span>
                <span class="loading__letter">A</span>
                <span class="loading__letter">D</span>
                <span class="loading__letter">I</span>
                <span class="loading__letter">N</span>
                <span class="loading__letter">G</span>
                <span class="loading__letter">.</span>
                <span class="loading__letter">.</span>
                <span class="loading__letter">.</span>
                <p class="text-center">AI가 당신의 명품상을 분석중입니다.</p>
            </div>

            <div class="result-message"></div>
            <div id="label-container"></div>

            <div type="button" onclick="removeUpload()" class="remove-image">
                사진 바꾸기
            </div>
            <!-- Go to www.addthis.com/dashboard to customize your tools -->
            <div class="addthis_inline_share_toolbox_ofg8"></div>
        </div>

        <div class="item message">
            <!-- <div class="item subtitle"> -->
            학습 완료된 AI모델을 사용하므로 <br />
            사진은 절.대.저장되지 않습니다
            <!-- </div> -->
            <div class="item thxto">
                본 페이지는 유트브 채널 조코딩, 3초 연구소를 참고했습니다!
                <br />
                많은 도움을 준 HB양, 응원해준 TW군 감사합니다 :-)
            </div>
        </div>
        <ins
            class="kakao_ad_area"
            style="display: none"
            data-ad-unit="DAN-UlUhRRzWGFXtol2X"
            data-ad-width="320"
            data-ad-height="100"
        ></ins>
        <script
            type="text/javascript"
            src="//t1.daumcdn.net/kas/static/ba.min.js"
            async
        ></script>

        <!-- <div>Teachable Machine Image Model</div> -->
        <!--button type="button" onclick="init()">모델불러오기</button-->

        <!-- <script src="./image_upload.js"></script> -->
        <script>
            const URL =
                "https://teachablemachine.withgoogle.com/models/IO_h0PqNJ/";

            let model, webcam, labelContainer, maxPredictions;

            // Load the image model and setup the webcam
            async function init() {
                const modelURL = URL + "model.json";
                const metadataURL = URL + "metadata.json";

                // load the model and metadata
                // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                // or files from your local hard drive
                // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                model = await tmImage.load(modelURL, metadataURL);
                maxPredictions = model.getTotalClasses();

                // append elements to the DOM
                labelContainer = document.getElementById("label-container");
                for (let i = 0; i < maxPredictions; i++) {
                    // and class labels
                    labelContainer.appendChild(document.createElement("div"));
                }

                $(".result-message").hide();
            }

            // run the webcam image through the image model
            async function predict() {
                // predict can take in an image, video or canvas html element
                var image = document.getElementById("face-image");
                const prediction = await model.predict(image, false);

                prediction.sort(
                    (a, b) =>
                        parseFloat(b.probability) - parseFloat(a.probability)
                );
                console.log(prediction[0].className);
                var resultTitle,
                    resultExplain,
                    resultCeleb,
                    containerColor,
                    wordCloudArray;

                //추가하고 싶으면 여기 바꿔~~^^
                switch (prediction[0].className) {
                    case "Prada":
                        resultTitle = "절제된 고급스러움, 인간 프라다";
                        resultExplain =
                            "심플함 속에 고급스러움이 느껴지는 당신. 미니멀한 디자인에 프라다 로고만으로 존재감을 압도하는 이탈리아 브랜드 프라다를 닮았네요.프라다를 입은 악마보다 더 프라다가 잘 어울리네요.";
                        resultCeleb =
                            "프라다 앰버서더 : 레드벨벳 아이린, EXO 찬열";
                        break;
                    case "Chanel":
                        resultTitle = "클래식한 트렌디함, 인간 샤넬";
                        resultExplain =
                            "자유로우면서도 클래식한, 트렌디하면서도 우아한 매력의 당신. 1910년 코코 샤넬이 설립한 프랑스의 하이엔드 샤넬과 잘어울리네요. 시크한 당신의 매력을 표현해봐요";
                        resultCeleb =
                            "샤넬 앰버서더 : 블랙핑크 제니, 김고은, 이성경";
                        break;
                    case "Diol":
                        resultTitle = "단아하지만 강인한 매력, 인간 디올";
                        resultExplain =
                            " 직선보다 곡선이, 시크함보다는 우아함이 잘어울리는 당신. 1947년 동명의 프랑스 디자이너가 파리에서 만든 럭셔리 브랜드 디올과 잘어울리네요. 청순하고 단아한 당신의 매력을 표현해봐요 ";
                        resultCeleb = "디올 앰버서더: 수지, 블랙핑크 지수";
                        // containerColor = "pink";
                        break;
                    case "Gucci":
                        resultTitle = "톡톡 튀는 매력, 인간 구찌";
                        resultExplain =
                            "힙한 매력의 소유자인 당신. 1921년 구찌오 구찌가 설립한 럭셔리 이탈리아 브랜드 구찌가 잘어울리네요. 톡톡 튀는 당신만의 개성을 표현해봐요";
                        resultCeleb = "구찌 앰버서더: 아이유, 엑소 카이";
                        break;
                    case "YSL":
                        resultTitle = "모던 클래식, 인간 생로랑";
                        resultExplain =
                            "모던하면서도 시크한 분위기의 소유자인 당신, 1961년 프랑스 파리에서 설립한 브랜드 생로랑과 잘어울리네요. 당신만의 모던 시크한 매력을 뽐내봐요";
                        resultCeleb = "생로랑 앰버서더: 블랙핑크 로제";
                        break;
                    case "Louis_vuitton":
                        resultTitle =
                            "당당함에서 나온 고급스러움, 인간 루이비통";
                        resultExplain =
                            "나다움이 제일 중요한 당신, 1854년에 세워진 프랑스의 하이엔드급 명품 브랜드 루이비통과 잘어울리네요. 깔끔하면서도 고급스러운 당신의 매력을 표현해봐요";
                        resultCeleb = "루이비통 앰버서더: 배두나, 방탄소년단";
                        break;
                    case "Fendi":
                        resultTitle =
                            "부드러움과 강인함, 자신감 넘치는 애티튜드. 인간 펜디";
                        resultExplain =
                            "조곤조곤 할말 다할 것 같은 부잣집 사모님 같은 매력의 당신, 1925년에 설립된 이탈리아 하이앤드 명품 브랜드 펜디와 잘어울리네요.  자신감 넘치는 태도에서 나온 고급스러움을 표현해봐요";
                        resultCeleb = "펜디 앰버서더 : 송혜교";
                        break;
                    default:
                        resultTitle = "알수없음";
                        resultExplain = "";
                        resultCeleb = "";
                }

                var title =
                    "<div class='" +
                    prediction[0].className +
                    "-animal-title'>" +
                    resultTitle +
                    "</div>";
                var explain =
                    "<div class='animal-explain pt-2'>" +
                    resultExplain +
                    "</div>";
                var celeb =
                    "<div class='" +
                    prediction[0].className +
                    "-animal-celeb pt-2 pb-2'>" +
                    resultCeleb +
                    "</div>";

                // if (containerColor) $(".container").css("background-color", containerColor);
                $(".result-message").html(title + explain + celeb);
                var barWidth;
                for (let i = 0; i < maxPredictions; i++) {
                    if (prediction[i].probability.toFixed(2) > 0.1) {
                        barWidth =
                            Math.round(
                                prediction[i].probability.toFixed(2) * 100
                            ) + "%";
                    } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                        barWidth = "4%";
                    } else {
                        barWidth = "2%";
                    }
                    var labelTitle;
                    switch (prediction[i].className) {
                        case "Prada":
                            labelTitle = "프라다";
                            break;
                        case "Chanel":
                            labelTitle = "샤넬";
                            break;
                        case "Diol":
                            labelTitle = "디올";
                            break;
                        case "Gucci":
                            labelTitle = "구찌";
                            break;
                        case "YSL":
                            labelTitle = "생로랑";
                            break;
                        case "Louis_vuitton":
                            labelTitle = "루이비통";
                            break;
                        case "Fendi":
                            labelTitle = "펜디";
                            break;
                        default:
                            labelTitle = "알수없음";
                    }
                    // var labelClass =
                    //     "<div class=" +
                    //     labelTitle +
                    //     ">" +
                    //     "</div>";
                    var label =
                        "<div class='brand-label d-flex align-items-center'>" +
                        labelTitle +
                        "  " +
                        Math.round(prediction[i].probability.toFixed(2) * 100) +
                        "%" +
                        "</div>";
                    var bar =
                        "<div class='bar-container position-relative'><div class='" +
                        // "<div class='bar-container position-relative container'><div class='" +
                        prediction[i].className +
                        "-box'></div><div class='d-flex justify-content-center align-items-center " +
                        prediction[i].className +
                        "-bar' style='width: " +
                        barWidth +
                        "'><span class='d-block percent-text'>" +
                        "</span></div></div>";
                    labelContainer.childNodes[i].innerHTML = label + bar;
                }

                // %로 바꾸고 보이게 하기!!!
            }

            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $(".image-upload-wrap").hide();

                        $(".file-upload-image").attr("src", e.target.result);
                        $(".container").css("padding", "30px");
                        $(".file-upload-content").show();

                        $(".image-title").html(input.files[0].name);
                    };

                    reader.readAsDataURL(input.files[0]);
                    $("#loading").show();
                    init().then(function () {
                        predict();
                        $("#loading").hide();
                        $(".result-message").show();
                        $("#label-container").show();
                        $(".brand-label").show();
                        $(".bar-container").show();
                        $(".remove-image").show();
                        $(".addthis_inline_share_toolbox_ofg8").show();
                        // $("#wordCloud").show();
                    });
                } else {
                    removeUpload();
                }
            }

            function removeUpload() {
                $(".file-upload-input").replaceWith(
                    $(".file-upload-input").clone()
                );
                $(".file-upload-content").hide();
                $(".image-upload-wrap").show();
                $(".result-message").hide();
                $(".brand-label").hide();
                $(".bar-container").hide();
                $(".remove-image").hide();
                $("addthis_inline_share_toolbox_ofg8").hide();
                $(".file-upload-input").val("");
                $(".container").css("padding", "0px");
                // $("#wordCloud").hide();
                $("#label-container").hide();
            }
            $(".image-upload-wrap").bind("dragover", function () {
                $(".image-upload-wrap").addClass("image-dropping");
            });
            $(".image-upload-wrap").bind("dragleave", function () {
                $(".image-upload-wrap").removeClass("image-dropping");
            });
        </script>
        <script
            class="jsbin"
            src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
            crossorigin="anonymous"
        ></script>
        <!-- <div id="label-container"></div> -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script type="text/javascript">
            // More API functions here:
            // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

            // the link to your model provided by Teachable Machine export panel

            init();
        </script>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script
            type="text/javascript"
            src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6146c90ef40ac1b6"
        ></script>
    </body>
    <footer class="footer pt-5 d-flex justify-content-center">
        <div>
            <p>&copy; DrKim 2021. All Rights Reserved.</p>
        </div>
    </footer>
    <!-- Copyright (c) 2021 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)
Permission is hereby granted, free of charge, to any person obtaining a copy of this software 
and associated documentation files (the "Software"), to deal in the Software without restriction, 
including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, 
and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
 subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED 
TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. 
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE 
OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. -->
</html>
